<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head">
</head>

<body>

    <h1 th:href="@{/css/techjobs.css}">Welcome, Log In!</h1>

    <div th:replace="fragments :: page-header"></div>

    <form method="post" style="margin:100px">
        <div class="form-group">
            <div class="val-wrap">
                <div style="padding-top:60px;" th:for="username">Username</div>
                <input class="csv form-control-username-login" th:field="${loginFormDTO.username}"/>
                <p class="error" th:errors="${loginFormDTO.username}"></p>
            </div>
        </div>
        <div class="form-group">
            <div class="val-wrap">
                <div>Password</div>
                <input class="csv form-control-password-login" th:field="${loginFormDTO.password}" type="password"/>
                <p class="error" th:errors="${loginFormDTO.password}"></p>
            </div>
        </div>
        <input type="submit" class="btn-primary" value="Log In" />
    </form>
    <p style="margin:100px">Don't have an account? <a href="/register">Register for one.</a></p>
</body>
</html>
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script>
function toggleValidationMsg(evt) {
    var tgt = evt.target;
    var pVal = $(evt.target).closest(".val-wrap").find("p.error")
    if (tgt.value.length > 2 && tgt.value.length < 21) {
    pVal.hide()
    } else {
    pVal.show()
    }
}

$(document).ready(function() {
    //Hide/show validation messages for any input with csv class wrapped in a div val-wrap containing p with error class.
    $(".csv").keyup(toggleValidationMsg);
    $(".csv").mouseup(toggleValidationMsg);
});
</script>
